<?xml version="1.0" encoding="UTF-8"?>
<sequence name="ProvisioningConfigurePositionSeq" onError="FaultSeq" trace="disable" xmlns="http://ws.apache.org/ns/synapse">
    <log level="custom" category="DEBUG">
        <property name="ProvisioningConfigurePositionSeq" value="Inicio.." />
    </log>
    <switch source="$ctx:operationProvisioning//operationProvisioningList/operationProvisioning/transactionalIdentity/userType/text()">
        <case regex="PER">
            <property name="postionName" expression="$ctx:operationProvisioning//operationProvisioningList/operationProvisioning/transactionalIdentity/positionName/text()" />
            <property name="description" expression="$ctx:operationProvisioning//operationProvisioningList/operationProvisioning/transactionalIdentity/identification/text()" />
        </case>
        <case regex="GEN">
            <property name="description" expression="fn:concat('RESPONSABLE: ',$ctx:operationProvisioning//operationProvisioningList/operationProvisioning/transactionalIdentity/namesSupervisor/text(),' ',$ctx:operationProvisioning//operationProvisioningList/operationProvisioning/transactionalIdentity/positionName/text())" />
            <switch source="$ctx:operationProvisioning//operationProvisioningList/operationProvisioning/transactionalIdentity/userSubtype/text()">
                <case regex="ROT">
                    <property name="postionName" value="GENERICO ROTATIVO" />
                </case>
                <case regex="MAIL">
                    <property name="postionName" value="GENERICO CORREO ELECTRONICO" />
                </case>
            </switch>
        </case>
    </switch>
    <log level="custom" category="DEBUG">
        <property name="ProvisioningConfigurePositionSeq" value="Fin.." />
    </log>
</sequence>