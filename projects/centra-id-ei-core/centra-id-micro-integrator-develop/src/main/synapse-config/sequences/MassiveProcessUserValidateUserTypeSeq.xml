<?xml version="1.0" encoding="UTF-8"?>
<sequence name="MassiveProcessUserValidateUserTypeSeq" onError="FaultMassiveProcessUsersSeq" trace="disable" xmlns="http://ws.apache.org/ns/synapse" xmlns:cen="centra-id.com">
    <log level="custom" category="DEBUG">
        <property name="MassiveProcessUserValidateUserTypeSeq" value="Inicio..." />
        <property name="uri.var.code" value="get-property('uri.var.code')" />
        <property name="uri.var.type" value="get-property('uri.var.type')" />
    </log>
    <header action="remove" name="Content-Type" scope="transport" />
    <property action="remove" name="REST_URL_POSTFIX" scope="axis2" />
    <call>
        <endpoint name="TypesUsersDSS_Endpoint" template="HTTPEndpointGetTemplate" uri="{uri.var.dataServiceHost}/TypesUsersDSS.HTTPEndpoint/getByCodeAndTypeTypesUsers?code={uri.var.code}&amp;type={uri.var.type}" />
    </call>
    <property expression="//cen:TypeUser/cen:code" name="code" scope="default" type="STRING" />
    <filter regex="false" source="boolean(get-property('code'))">
        <then>
            <property name="validateData" scope="default" type="BOOLEAN" value="false" />
            <property expression="fn:concat(get-property('validateDataMessage'), 'El codigo del tipo de usuario (',get-property('uri.var.code'),') de tipo ',get-property('uri.var.type'),' no existe. ')" name="validateDataMessage" scope="default" type="STRING" />
        </then>
        <else />
    </filter>
    <log level="custom" category="DEBUG">
        <property name="MassiveProcessUserValidateUserTypeSeq" value="Fin.." />
    </log>
</sequence>