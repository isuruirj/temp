<?xml version="1.0" encoding="UTF-8"?>
<sequence name="GISCIM_Mapping_BANCS_Seq" trace="disable" xmlns="http://ws.apache.org/ns/synapse">
    <log description="seq" level="custom">
        <property name="seq" value="-------------------- GISCIM_Mapping_BANCS_Seq --------------------"/>
    </log>
    <payloadFactory description="BANCS Payload" media-type="json">
        <format>
        		{
	"emails": [
		 {"type": "other", "value": "$1"}
	],
	"schemas": [
		"urn:ietf:params:scim:schemas:core:2.0:User",
		"urn:ietf:params:scim:schemas:extension:enterprise:2.0:User"
	],
	"EnterpriseUser" : {
        "tellerName": "$2",
        "nombreUsuario": "$3",
        "tipoIdentificacion": "$4",
		"empresa": "$5",
        "observacion" : "$6",
		"cargo" : "$7",
		"centroDeCostos" : "$8",
		"identificacion": "$9",
        "celular": "$10",
        "terminal": "$11",
        "grupoTransaccion": "$12",
        "nivelCapacidad": "$13",
        "nivelCorreo": "$14",
        "userType": "$15",
        "chngBranchAlwd": "$16",
        "brchSup": "$17",
        "atmFlag": "$18",
        "accsignMod": "$19",
        "casualApprovallim": "$20",
        "nivelSeguridad": "$21",
        "estadoUsuario": "$22"
	},
	"name": {
		"givenName": "$23"
	},
	"userName": "$24",
	"password" : "$25"
}
        		</format>
        <args>
            <arg evaluator="xml" expression="$body/*/tem:correoElectronico/text()" xmlns:tem="http://tempuri.org/"/>
            <arg evaluator="xml" expression="$body/*/tem:tellerName/text()" xmlns:tem="http://tempuri.org/"/>
            <arg evaluator="xml" expression="fn:concat($body//*/tem:apellidosEmpleado/text(),' ', $body//*/tem:nombresEmpleado/text())" xmlns:tem="http://tempuri.org/"/>
            <arg evaluator="xml" expression="$body/*/tem:tipoIdentificacion/text()" xmlns:tem="http://tempuri.org/"/>
            <arg evaluator="xml" expression="$body/*/tem:empresa/text()" xmlns:tem="http://tempuri.org/"/>
            <arg evaluator="xml" expression="$body/*/tem:observacion/text()" xmlns:tem="http://tempuri.org/"/>
            <arg evaluator="xml" expression="$body/*/tem:cargo/text()" xmlns:tem="http://tempuri.org/"/>
            <arg evaluator="xml" expression="$body/*/tem:codigoCentroCosto/text()" xmlns:tem="http://tempuri.org/"/>
            <arg evaluator="xml" expression="$body/*/tem:identificacion/text()" xmlns:tem="http://tempuri.org/"/>
            <arg evaluator="xml" expression="$body/*/tem:celular/text()" xmlns:tem="http://tempuri.org/"/>
            <arg evaluator="xml" expression="$body/*/tem:terminal/text()" xmlns:tem="http://tempuri.org/"/>
            <arg evaluator="xml" expression="$body/*/tem:especificos/tem:grupoTransaccion/text()" xmlns:tem="http://tempuri.org/"/>
            <arg evaluator="xml" expression="$body/*/tem:especificos/tem:nivelCapacidad/text()" xmlns:tem="http://tempuri.org/"/>
            <arg evaluator="xml" expression="$body/*/tem:especificos/tem:nivelCorreo/text()" xmlns:tem="http://tempuri.org/"/>
            <arg evaluator="xml" expression="$body/*/tem:especificos/tem:userType/text()" xmlns:tem="http://tempuri.org/"/>
            <arg evaluator="xml" expression="$body/*/tem:especificos/tem:chngBranchAlwd/text()" xmlns:tem="http://tempuri.org/"/>
            <arg evaluator="xml" expression="$body/*/tem:especificos/tem:brchSup/text()" xmlns:tem="http://tempuri.org/"/>
            <arg evaluator="xml" expression="$body/*/tem:especificos/tem:atmFlag/text()" xmlns:tem="http://tempuri.org/"/>
            <arg evaluator="xml" expression="$body/*/tem:especificos/tem:accsignMod/text()" xmlns:tem="http://tempuri.org/"/>
            <arg evaluator="xml" expression="$body/*/tem:especificos/tem:casualApprovallim/text()" xmlns:tem="http://tempuri.org/"/>
            <arg evaluator="xml" expression="$body/*/tem:especificos/tem:nivelSeguridad/text()" xmlns:tem="http://tempuri.org/"/>
            <arg evaluator="xml" expression="$body/*/tem:especificos/tem:estadoUsuario/text()" xmlns:tem="http://tempuri.org/"/>
            <arg evaluator="xml" expression="$body/*/tem:nombresEmpleado/text()" xmlns:tem="http://tempuri.org/"/>
            <arg evaluator="xml" expression="fn:concat(get-property('aplicacion'),'/',get-property('username'))"/>
            <arg value="default"/>
        </args>
    </payloadFactory>
</sequence>
